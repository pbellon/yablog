{% load django_htmx %}
{% load static %}

<!DOCTYPE html>
<html>

<head>
    <title>{% block title %}Title{% endblock %}</title>

    <link rel="stylesheet" href="{% static "css/main.css" %}" />
    {% htmx_script %}

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">
</head>

<body hx-headers='{ "X-CSRFToken": "{{ csrf_token }}" }'>
    {% include "shared/nav.html" %}
    <div id="main-content" class="side-by-side container">
        <main>
            {% block content %}{% endblock %}
        </main>
        <aside>
            {% block side %}{% endblock %}
        </aside>
    </div>
</body>

<script>
    var theme = localStorage.getItem('theme');
    var htmlTag = document.querySelector("html");

    if (theme == "light") {
        htmlTag.classList.add('theme--light');
    } else {
        htmlTag.classList.add('theme--dark');
    }
</script>
</html>